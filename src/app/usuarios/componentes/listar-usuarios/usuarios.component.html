<div fxLayout="column" fxLayoutGap="5%">
  <h2 class="titulo">Listar Usuarios</h2>

  <div class="primera-linea" fxLayoutGap="30%" fxLayout="row" >
    <div fxLayoutGap="10%" fxFlex="30%" fxLayoutAlign="start center">
      <button matTooltip="Crear Usuario"  class="botonB" mat-fab (click)="nuevoUsuario()">
        <mat-icon>add</mat-icon>
      </button>

      <button matTooltip="Exportar Usuarios"  class="botonB" mat-fab (click)="ExportarUsuarios()">
        <mat-icon>file_download</mat-icon>
      </button>

      <button matTooltip="Importar Usuarios" class="botonB" mat-fab (click)="inputfield.click()">
        <mat-icon>file_upload</mat-icon>
      </button>
      <input #inputfield type="file" hidden (change)="importarUsuarios($event)" multiple="false">
    </div>


    <div fxFlex="70%" fxLayout="row" fxLayoutGap="4%">
      <mat-form-field  matTooltip="Buscar Usuario" >
        <input class="letra" matInput placeholder="Buscar" [formControl]="control">
      </mat-form-field>

      <mat-form-field  matTooltip="Buscar usuario por estado">
        <mat-label class="letra">Estado</mat-label>
        <mat-select name="status" [formControl]="control">
            <mat-option value="ACTIVO">Activo</mat-option>
            <mat-option value="INACTIVO">Inactivo</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <table class="margin-table"  mat-table [dataSource]="usuarios[0]">
    <!--[dataSource] se utiliza para enlazar una fuente de datos a un componente-->
    <ng-container matColumnDef="NombreUsuario">
      <th mat-header-cell *matHeaderCellDef>Nombre de Usuario</th>
      <td mat-cell *matCellDef="let usuario">{{usuario.first_name | titlecase}} {{usuario.last_name | titlecase}}</td>
    </ng-container>
    <ng-container matColumnDef="TipoDocumento">
      <th mat-header-cell *matHeaderCellDef>Tipo de documento</th>
      <td mat-cell *matCellDef="let usuario">{{usuario.type_id}}</td>
    </ng-container>
    <ng-container matColumnDef="NumeroDocumento">
      <th mat-header-cell *matHeaderCellDef>Numero de Documento</th>
      <td  mat-cell *matCellDef="let usuario">{{usuario.num_id}}</td>
    </ng-container>
    <ng-container matColumnDef="CorreoElectronico">
      <th class="th1" mat-header-cell *matHeaderCellDef>Correo Electronico</th>
      <td class="td1" mat-cell *matCellDef="let usuario">{{usuario.email}}</td>
    </ng-container>
    <ng-container matColumnDef="RolSistema">
      <th class ="doc1" mat-header-cell *matHeaderCellDef>Rol en el Sistema</th>
      <td class ="doc2" mat-cell *matCellDef="let usuario">{{usuario.rol}}</td>
    </ng-container>
    <ng-container matColumnDef="edit">
      <th class mat-header-cell *matHeaderCellDef>Acciones</th>
      <td mat-cell *matCellDef="let usuario">
        <button  matTooltip="Editar usuario" class="boton" mat-mini-fab (click)="editarUsuarios(usuario.num_id)">
          <mat-icon>edit</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
